"use strict";(self.webpackChunkmatch_it_web=self.webpackChunkmatch_it_web||[]).push([[927],{927:(ye,T,s)=>{s.r(T),s.d(T,{GameTypeModule:()=>Te});var f=s(6814),r=s(6223),x=s(8109),G=s(8562),d=s(5861),S=s(9862),h=s(1476),p=s(5313),I=s(8645),q=s(9773),N=s(3620),w=s(3997),c=s(7700),y=s(9825),e=s(5879),_=s(4726),C=s(3642),Z=s(8282),v=s(617),g=s(2296),u=s(9157),A=s(2032),U=s(8525),b=s(3680);function L(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"Game Type is required"),e.qZA())}function Y(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"White space not allowed"),e.qZA())}function J(a,i){if(1&a&&(e.TgZ(0,"mat-error"),e.YNc(1,L,2,0,"span",7),e.YNc(2,Y,2,0,"span",7),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.gameType.errors?null:t.f.gameType.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.gameType.errors?null:t.f.gameType.errors.whiteSpace)}}function Q(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"Asset Image Path is required"),e.qZA())}function k(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"White space not allowed"),e.qZA())}function D(a,i){if(1&a&&(e.TgZ(0,"mat-error"),e.YNc(1,Q,2,0,"span",7),e.YNc(2,k,2,0,"span",7),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.assetImagePath.errors?null:t.f.assetImagePath.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.assetImagePath.errors?null:t.f.assetImagePath.errors.whiteSpace)}}function B(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"Image Type is required"),e.qZA())}function P(a,i){if(1&a&&(e.TgZ(0,"mat-error"),e.YNc(1,B,2,0,"span",7),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.imgType.errors?null:t.f.imgType.errors.required)}}function F(a,i){if(1&a&&(e.TgZ(0,"mat-option",22)(1,"div",23),e._UZ(2,"div"),e._uU(3),e.qZA()()),2&a){const t=i.$implicit,n=e.oxw();e.Q6J("value",t.value),e.xp6(2),e.Akn("height:20px; width:20px; background-color:"+n.utilService.toColor(t.value)),e.xp6(1),e.hij(" \xa0 ",t.key," ")}}function V(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"Background Color is required"),e.qZA())}function E(a,i){if(1&a&&(e.TgZ(0,"mat-error"),e.YNc(1,V,2,0,"span",7),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.bgColor.errors?null:t.f.bgColor.errors.required)}}function j(a,i){if(1&a&&(e.TgZ(0,"mat-option",22)(1,"div",23),e._UZ(2,"div"),e._uU(3),e.qZA()()),2&a){const t=i.$implicit,n=e.oxw();e.Q6J("value",t.value),e.xp6(2),e.Akn("height:20px; width:20px; background-color:"+n.utilService.toColor(t.value)),e.xp6(1),e.hij(" \xa0 ",t.key," ")}}function O(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"Button Color is required"),e.qZA())}function z(a,i){if(1&a&&(e.TgZ(0,"mat-error"),e.YNc(1,O,2,0,"span",7),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.btnColor.errors?null:t.f.btnColor.errors.required)}}function R(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"Status is required"),e.qZA())}function $(a,i){if(1&a&&(e.TgZ(0,"mat-error"),e.YNc(1,R,2,0,"span",7),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.status.errors?null:t.f.status.errors.required)}}let K=(()=>{class a{constructor(t,n,o,l,m,he){this.formBuilder=t,this.gameTypeService=n,this.systemService=o,this.utilService=l,this.dialogRef=m,this.data=he,this.showValidation=!1}ngOnInit(){this.initForm()}initForm(){this.form=this.formBuilder.group({gameType:new r.NI(this.data?.gameType??"",[r.kI.required,y._.containSpace]),assetImagePath:new r.NI(this.data?.assetImagePath??"",[r.kI.required,y._.containSpace]),imgType:new r.NI(this.data?.imgType??"",[r.kI.required]),bgColor:new r.NI(this.data?.bgColor??"",[r.kI.required]),btnColor:new r.NI(this.data?.btnColor??"",[r.kI.required]),sequence:new r.NI(this.data?.sequence),status:new r.NI(this.data?.status??"",[r.kI.required])}),this.data?.id&&this.form.addControl("id",new r.NI(this.data?.id,[r.kI.required])),this.loadData()}loadData(){var t=this;return(0,d.Z)(function*(){try{t.utilService.showLoader();let n=yield t.systemService.getSystemConstValues();t.systemConstValues=n}catch(n){t.utilService.showError(n)}finally{t.utilService.hideLoader()}})()}get f(){return this.form.controls}onSubmit(){var t=this;return(0,d.Z)(function*(){if(t.form.invalid)t.showValidation=!0;else{t.showValidation=!1;try{t.utilService.showLoader();let n,o=t.form.value;o.sequence=o.sequence.toString().length<=0?null:Number(o.sequence),n=t.data?.id?yield t.gameTypeService.updateGameType(o):yield t.gameTypeService.addGameType(o),t.utilService.showSuccessSnack(n.message),t.dialogRef.close(!0)}catch(n){t.utilService.showError(n)}finally{t.utilService.hideLoader()}}})()}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(r.qu),e.Y36(_.u),e.Y36(C.o),e.Y36(Z.f),e.Y36(c.so),e.Y36(c.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-game-type"]],decls:56,vars:11,consts:[[1,"p-3"],[1,"dialog-heading"],["mat-icon-button","","mat-dialog-close",""],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-12","mt-3"],["matInput","","formControlName","gameType","placeholder","Enter Game Type"],[4,"ngIf"],[1,"col-lg-6","mt-3"],["matInput","","formControlName","assetImagePath","placeholder","Enter Asset Image Path"],["placeholder","Enter Image Type","formControlName","imgType"],["value","png"],["value","svg"],["placeholder","Enter Background Color","formControlName","bgColor"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Enter Button Color","formControlName","btnColor"],["matInput","","formControlName","sequence","placeholder","Enter Sequence"],["placeholder","Status","formControlName","status"],["value","Active"],["value","Inactive"],[1,"mt-3","mb-2","d-flex","justify-content-end","w-100"],["mat-raised-button","","color","primary"],[3,"value"],[1,"d-flex"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"button",2)(5,"mat-icon"),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),e._uU(11,"Game Type"),e.qZA(),e._UZ(12,"input",6),e.YNc(13,J,3,2,"mat-error",7),e.qZA(),e.TgZ(14,"mat-form-field",8)(15,"mat-label"),e._uU(16,"Asset Image Path"),e.qZA(),e._UZ(17,"input",9),e.YNc(18,D,3,2,"mat-error",7),e.qZA(),e.TgZ(19,"mat-form-field",8)(20,"mat-label"),e._uU(21,"Image Type"),e.qZA(),e.TgZ(22,"mat-select",10)(23,"mat-option",11),e._uU(24,"PNG"),e.qZA(),e.TgZ(25,"mat-option",12),e._uU(26,"SVG"),e.qZA()(),e.YNc(27,P,2,1,"mat-error",7),e.qZA(),e.TgZ(28,"mat-form-field",8)(29,"mat-label"),e._uU(30,"Background Color"),e.qZA(),e.TgZ(31,"mat-select",13),e.YNc(32,F,4,4,"mat-option",14),e.qZA(),e.YNc(33,E,2,1,"mat-error",7),e.qZA(),e.TgZ(34,"mat-form-field",8)(35,"mat-label"),e._uU(36,"Button Color"),e.qZA(),e.TgZ(37,"mat-select",15),e.YNc(38,j,4,4,"mat-option",14),e.qZA(),e.YNc(39,z,2,1,"mat-error",7),e.qZA(),e.TgZ(40,"mat-form-field",8)(41,"mat-label"),e._uU(42,"Sequence"),e.qZA(),e._UZ(43,"input",16),e.qZA(),e.TgZ(44,"mat-form-field",8)(45,"mat-label"),e._uU(46,"Status"),e.qZA(),e.TgZ(47,"mat-select",17)(48,"mat-option",18),e._uU(49,"Active"),e.qZA(),e.TgZ(50,"mat-option",19),e._uU(51,"Inactive"),e.qZA()(),e.YNc(52,$,2,1,"mat-error",7),e.qZA()(),e.TgZ(53,"div",20)(54,"button",21),e._uU(55),e.qZA()()()()),2&n&&(e.xp6(3),e.hij("",null!=o.data&&o.data.id?"Update":"Add"," Game Type"),e.xp6(4),e.Q6J("formGroup",o.form),e.xp6(6),e.Q6J("ngIf",o.f.gameType.invalid&&(o.f.gameType.dirty||o.f.gameType.touched||o.showValidation)),e.xp6(5),e.Q6J("ngIf",o.f.assetImagePath.invalid&&(o.f.assetImagePath.dirty||o.f.assetImagePath.touched||o.showValidation)),e.xp6(9),e.Q6J("ngIf",o.f.imgType.invalid&&(o.f.imgType.dirty||o.f.imgType.touched||o.showValidation)),e.xp6(5),e.Q6J("ngForOf",null==o.systemConstValues?null:o.systemConstValues.colorTypes),e.xp6(1),e.Q6J("ngIf",o.f.bgColor.invalid&&(o.f.bgColor.dirty||o.f.bgColor.touched||o.showValidation)),e.xp6(5),e.Q6J("ngForOf",null==o.systemConstValues?null:o.systemConstValues.colorTypes),e.xp6(1),e.Q6J("ngIf",o.f.btnColor.invalid&&(o.f.btnColor.dirty||o.f.btnColor.touched||o.showValidation)),e.xp6(13),e.Q6J("ngIf",o.f.status.invalid&&(o.f.status.dirty||o.f.status.touched||o.showValidation)),e.xp6(3),e.hij("",null!=o.data&&o.data.id?"Update":"Add "," Game Type"))},dependencies:[f.sg,f.O5,v.Hw,g.lW,g.RK,c.ZT,u.KE,u.hX,u.TO,A.Nt,U.gD,b.ey,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]})}return a})();var H=s(2599);function W(a,i){1&a&&e._UZ(0,"tr",24)}function M(a,i){1&a&&e._UZ(0,"tr",25)}function X(a,i){1&a&&(e.TgZ(0,"th",26),e._uU(1,"Game Type"),e.qZA())}function ee(a,i){if(1&a&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.gameType," ")}}function te(a,i){1&a&&(e.TgZ(0,"th",26),e._uU(1,"Asset Image Path"),e.qZA())}function ae(a,i){if(1&a&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.assetImagePath," ")}}function oe(a,i){1&a&&(e.TgZ(0,"th",26),e._uU(1,"Image Type"),e.qZA())}function ne(a,i){if(1&a&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.imgType," ")}}function ie(a,i){1&a&&(e.TgZ(0,"th",26),e._uU(1,"Sequence"),e.qZA())}function re(a,i){if(1&a&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.sequence," ")}}function se(a,i){1&a&&(e.TgZ(0,"th",26),e._uU(1,"Background Color"),e.qZA())}function le(a,i){if(1&a&&(e.TgZ(0,"td",27)(1,"div",28),e._UZ(2,"div"),e._uU(3),e.qZA()()),2&a){const t=i.$implicit,n=e.oxw();e.xp6(2),e.Akn("height:20px; width:20px; background-color:"+n.utilService.toColor(t.bgColor)),e.xp6(1),e.hij(" \xa0",t.bgColorKey," ")}}function me(a,i){1&a&&(e.TgZ(0,"th",26),e._uU(1,"Button Color"),e.qZA())}function pe(a,i){if(1&a&&(e.TgZ(0,"td",27)(1,"div",28),e._UZ(2,"div"),e._uU(3),e.qZA()()),2&a){const t=i.$implicit,n=e.oxw();e.xp6(2),e.Akn("height:20px; width:20px; background-color:"+n.utilService.toColor(t.btnColor)),e.xp6(1),e.hij(" \xa0",t.btnColorKey," ")}}function de(a,i){1&a&&(e.TgZ(0,"th",26),e._uU(1,"Status"),e.qZA())}function ue(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",29),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(1,"mat-slide-toggle",30),e.NdJ("change",function(){const l=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.onChangeStatus(l))}),e.qZA()()}if(2&a){const t=i.$implicit;e.xp6(1),e.Q6J("checked","Active"==t.status)}}function ce(a,i){1&a&&e._UZ(0,"th",26)}function ge(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",27)(1,"button",31),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.addOrEdit(l))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",31),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.deleteGameType(l))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()}}const fe=[{path:"",component:(()=>{class a{constructor(t,n,o,l,m){this.dialog=t,this.gameTypeService=n,this.fb=o,this.systemService=l,this.utilService=m,this.displayedColumns=["gameType","assetImagePath","imgType","sequence","bgColor","btnColor","status","action"],this.dataSource=new p.by,this.onDestroy=new I.x,this.pagination={pageSizeOptions:[10,25,50,100],pageSize:10,pageIndex:0}}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}ngOnInit(){var t=this;return(0,d.Z)(function*(){t.filterForm=t.fb.group({keyword:new r.NI(null)});let n=yield t.systemService.getSystemConstValues();t.systemConstValues=n,t.filterForm.controls.keyword.valueChanges.pipe((0,q.R)(t.onDestroy),(0,N.b)(500),(0,w.x)()).subscribe(o=>{t.paginator.pageIndex=0,t.getGameTypeList()}),t.getGameTypeList()})()}getGameTypeList(t=!0){var n=this;return(0,d.Z)(function*(){try{t&&n.utilService.showLoader();let o=yield n.gameTypeService.getGameTypeList(n.filterParams());n.buildTableData(o.payload.data),setTimeout(()=>{n.paginator.pageIndex=n.pagination.pageIndex,n.paginator.length=o.payload.totalItems})}catch(o){n.utilService.showError(o)}finally{t&&n.utilService.hideLoader()}})()}buildTableData(t){if(t){let n=t.map(o=>{const l=Object.assign({},o);return l.bgColorKey=this.systemConstValues?.colorTypes.find(m=>m.value==l.bgColor)?.key,l.btnColorKey=this.systemConstValues?.colorTypes.find(m=>m.value==l.btnColor)?.key,l});this.dataSource.data=n}else this.dataSource.data=[]}filterParams(){let t=new S.LE;return t=t.append("skip",this.pagination.pageIndex*this.pagination.pageSize),t=t.append("limit",this.pagination.pageSize),this.filterForm.value.keyword&&(t=t.append("keyword",this.filterForm.value.keyword)),t}pageChanged(t){this.pagination.pageSize=t.pageSize,this.pagination.pageIndex=t.pageIndex,this.getGameTypeList()}addOrEdit(t){this.dialog.open(K,{width:"50%",autoFocus:!1,disableClose:!1,data:t}).afterClosed().subscribe(o=>{o&&this.getGameTypeList()})}onChangeStatus(t){var n=this;return(0,d.Z)(function*(){try{n.utilService.showLoader(),t.status="Active"==t.status?"Inactive":"Active";let o=yield n.gameTypeService.updateGameType(t);n.utilService.showSuccessSnack(o.message),yield n.getGameTypeList(!1)}catch(o){n.utilService.showError(o)}finally{n.utilService.hideLoader()}})()}deleteGameType(t){var n=this;return(0,d.Z)(function*(){if(!0===confirm("Are you sure? Do you want to delete game?"))try{n.utilService.showLoader();let o=yield n.gameTypeService.deleteGameTypeById(t.id);n.utilService.showSuccessSnack(o.message),yield n.getGameTypeList(!1)}catch(o){n.utilService.showError(o)}finally{n.utilService.hideLoader()}})()}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(c.uw),e.Y36(_.u),e.Y36(r.qu),e.Y36(C.o),e.Y36(Z.f))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-game-type-list"]],viewQuery:function(n,o){if(1&n&&e.Gf(h.NW,5),2&n){let l;e.iGM(l=e.CRH())&&(o.paginator=l.first)}},decls:43,vars:7,consts:[[1,"heading"],[1,"d-flex"],["mat-button","",3,"click"],[3,"formGroup"],[1,"row"],[1,"col-lg-4"],["matInput","","placeholder","Search game type...","formControlName","keyword"],["matPrefix",""],["mat-table","",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","gameType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","assetImagePath"],["matColumnDef","imgType"],["matColumnDef","sequence"],["matColumnDef","bgColor"],["matColumnDef","btnColor"],["matColumnDef","status"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","action"],["showFirstLastButtons","",1,"mt-3",3,"pageSize","pageIndex","pageSizeOptions","page"],["paginator",""],["mat-header-row",""],["mat-row",""],["mat-header-cell",""],["mat-cell",""],[2,"display","flex"],["mat-cell","",3,"click"],[3,"checked","change"],["mat-icon-button","",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Game Types"),e.qZA()(),e.TgZ(4,"button",2),e.NdJ("click",function(){return o.addOrEdit(null)}),e.TgZ(5,"mat-icon"),e._uU(6,"add"),e.qZA(),e._uU(7," Add Game Type"),e.qZA()(),e.TgZ(8,"form",3)(9,"div",4)(10,"mat-form-field",5),e._UZ(11,"input",6),e.TgZ(12,"mat-icon",7),e._uU(13,"search"),e.qZA()()()(),e.TgZ(14,"table",8),e.YNc(15,W,1,0,"tr",9),e.YNc(16,M,1,0,"tr",10),e.ynx(17,11),e.YNc(18,X,2,0,"th",12),e.YNc(19,ee,2,1,"td",13),e.BQk(),e.ynx(20,14),e.YNc(21,te,2,0,"th",12),e.YNc(22,ae,2,1,"td",13),e.BQk(),e.ynx(23,15),e.YNc(24,oe,2,0,"th",12),e.YNc(25,ne,2,1,"td",13),e.BQk(),e.ynx(26,16),e.YNc(27,ie,2,0,"th",12),e.YNc(28,re,2,1,"td",13),e.BQk(),e.ynx(29,17),e.YNc(30,se,2,0,"th",12),e.YNc(31,le,4,3,"td",13),e.BQk(),e.ynx(32,18),e.YNc(33,me,2,0,"th",12),e.YNc(34,pe,4,3,"td",13),e.BQk(),e.ynx(35,19),e.YNc(36,de,2,0,"th",12),e.YNc(37,ue,2,1,"td",20),e.BQk(),e.ynx(38,21),e.YNc(39,ce,1,0,"th",12),e.YNc(40,ge,7,0,"td",13),e.BQk(),e.qZA(),e.TgZ(41,"mat-paginator",22,23),e.NdJ("page",function(m){return o.pageChanged(m)}),e.qZA()),2&n&&(e.xp6(8),e.Q6J("formGroup",o.filterForm),e.xp6(6),e.Q6J("dataSource",o.dataSource),e.xp6(1),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(25),e.Q6J("pageSize",o.pagination.pageSize)("pageIndex",o.pagination.pageIndex)("pageSizeOptions",o.pagination.pageSizeOptions))},dependencies:[v.Hw,g.lW,g.RK,h.NW,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,u.KE,u.qo,A.Nt,H.Rr,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]})}return a})()}];let Te=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#a=this.\u0275inj=e.cJS({imports:[f.ez,G.q,r.UX,x.Bz.forChild(fe)]})}return a})()}}]);